{
    "sourceFile": "app/Http/Controllers/ApplicantController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1751674025467,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1751674025467,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Models\\Applicant;\nuse Illuminate\\Http\\Request;\nuse Illuminate\\Support\\Str;\n\nclass ApplicantController extends Controller\n{\n    public function index()\n    {\n        return response()->json(\n            Applicant::with('jobVacancy')->get()\n        );\n    }\n\n    public function store(Request $request)\n    {\n        $validated = $request->validate([\n            'name' => 'required|string|max:100',\n            'email' => 'required|email|unique:applicants,email',\n            'phone' => 'required|string|max:20',\n            'applied_position_id' => 'required|uuid|exists:job_vacancies,vacancy_id',\n            'cv_file' => 'nullable|string',\n            'status' => 'nullable|in:applied,interview,hired,rejected',\n        ]);\n\n        $applicant = Applicant::create([\n            'applicant_id' => Str::uuid(),\n            ...$validated,\n        ]);\n\n        return response()->json($applicant, 201);\n    }\n\n    public function show($id)\n    {\n        $applicant = Applicant::with('jobVacancy')->findOrFail($id);\n        return response()->json($applicant);\n    }\n\n    public function update(Request $request, $id)\n    {\n        $applicant = Applicant::findOrFail($id);\n\n        $validated = $request->validate([\n            'name' => 'sometimes|string|max:100',\n            'email' => 'sometimes|email|unique:applicants,email,' . $id . ',applicant_id',\n            'phone' => 'sometimes|string|max:20',\n            'applied_position_id' => 'sometimes|uuid|exists:job_vacancies,vacancy_id',\n            'cv_file' => 'nullable|string',\n            'status' => 'sometimes|in:applied,interview,hired,rejected',\n        ]);\n\n        $applicant->update($validated);\n\n        return response()->json($applicant);\n    }\n\n    public function destroy($id)\n    {\n        $applicant = Applicant::findOrFail($id);\n        $applicant->delete();\n\n        return response()->json(null, 204);\n    }\n}"
        }
    ]
}